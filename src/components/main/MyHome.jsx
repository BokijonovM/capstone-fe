import { useEffect, useState } from "react";
import { useLocation, useNavigate } from "react-router-dom";
import "./home.css";
import { useQueryParameter } from "./index.js";

function MyHome() {
  const token =
    useQueryParameter({ defaultValue: null, key: "accessToken" }) ||
    localStorage.getItem("MyToken");

  const navigate = useNavigate();
  const location = useLocation();
  const [user, setUser] = useState();
  const [authorized, setAuthorized] = useState();

  useEffect(() => {
    console.log(location.pathname);
    if (token) {
      localStorage.setItem("MyToken", token);
      setTimeout(() => setAuthorized(true), 200);
    } else {
      setTimeout(() => {
        if (localStorage.getItem("MyToken")) {
          window.location.href = "/";
        }
      }, 3000);
    }
  });
  return (
    <div className="login-home-main-div">
      <svg
        id="svg-text-home"
        width="1111"
        height="199"
        viewBox="0 0 1111 199"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <mask
          id="path-1-outside-1_1_4"
          maskUnits="userSpaceOnUse"
          x="0.25"
          y="0.75"
          width="1111"
          height="198"
          fill="black"
        >
          <rect fill="white" x="0.25" y="0.75" width="1111" height="198" />
          <path d="M107 12.75V141.5C107 155.833 102.583 167.333 93.75 176C84.9167 184.5 73.25 188.75 58.75 188.75C44.0833 188.75 32.3333 184.417 23.5 175.75C14.6667 166.917 10.25 154.917 10.25 139.75H33C33.1667 148.25 35.3333 155.167 39.5 160.5C43.8333 165.833 50.25 168.5 58.75 168.5C67.25 168.5 73.5833 166 77.75 161C81.9167 155.833 84 149.333 84 141.5V12.75H107Z" />
          <path d="M230.818 188.75C214.652 188.75 199.902 185 186.568 177.5C173.235 169.833 162.652 159.25 154.818 145.75C147.152 132.083 143.318 116.75 143.318 99.75C143.318 82.75 147.152 67.5 154.818 54C162.652 40.3333 173.235 29.75 186.568 22.25C199.902 14.5833 214.652 10.75 230.818 10.75C247.152 10.75 261.985 14.5833 275.318 22.25C288.652 29.75 299.152 40.25 306.818 53.75C314.485 67.25 318.318 82.5833 318.318 99.75C318.318 116.917 314.485 132.25 306.818 145.75C299.152 159.25 288.652 169.833 275.318 177.5C261.985 185 247.152 188.75 230.818 188.75ZM230.818 169C242.985 169 253.902 166.167 263.568 160.5C273.402 154.833 281.068 146.75 286.568 136.25C292.235 125.75 295.068 113.583 295.068 99.75C295.068 85.75 292.235 73.5833 286.568 63.25C281.068 52.75 273.485 44.6667 263.818 39C254.152 33.3333 243.152 30.5 230.818 30.5C218.485 30.5 207.485 33.3333 197.818 39C188.152 44.6667 180.485 52.75 174.818 63.25C169.318 73.5833 166.568 85.75 166.568 99.75C166.568 113.583 169.318 125.75 174.818 136.25C180.485 146.75 188.152 154.833 197.818 160.5C207.652 166.167 218.652 169 230.818 169Z" />
          <path d="M435.602 97.25C441.935 98.25 447.685 100.833 452.852 105C458.185 109.167 462.352 114.333 465.352 120.5C468.518 126.667 470.102 133.25 470.102 140.25C470.102 149.083 467.852 157.083 463.352 164.25C458.852 171.25 452.268 176.833 443.602 181C435.102 185 425.018 187 413.352 187H348.352V12.75H410.852C422.685 12.75 432.768 14.75 441.102 18.75C449.435 22.5833 455.685 27.8333 459.852 34.5C464.018 41.1667 466.102 48.6667 466.102 57C466.102 67.3333 463.268 75.9167 457.602 82.75C452.102 89.4167 444.768 94.25 435.602 97.25ZM371.102 88H409.352C420.018 88 428.268 85.5 434.102 80.5C439.935 75.5 442.852 68.5833 442.852 59.75C442.852 50.9167 439.935 44 434.102 39C428.268 34 419.852 31.5 408.852 31.5H371.102V88ZM411.352 168.25C422.685 168.25 431.518 165.583 437.852 160.25C444.185 154.917 447.352 147.5 447.352 138C447.352 128.333 444.018 120.75 437.352 115.25C430.685 109.583 421.768 106.75 410.602 106.75H371.102V168.25H411.352Z" />
          <path d="M524.422 168.5H585.422V187H501.672V12.75H524.422V168.5Z" />
          <path d="M712.582 148.25H636.582L622.582 187H598.582L661.582 13.75H687.832L750.582 187H726.582L712.582 148.25ZM706.082 129.75L674.582 41.75L643.082 129.75H706.082Z" />
          <path d="M915.039 187H892.289L800.789 48.25V187H778.039V12.5H800.789L892.289 151V12.5H915.039V187Z" />
          <path d="M1008.07 12.75C1027.07 12.75 1043.49 16.3333 1057.32 23.5C1071.32 30.5 1081.99 40.5833 1089.32 53.75C1096.82 66.9167 1100.57 82.4167 1100.57 100.25C1100.57 118.083 1096.82 133.583 1089.32 146.75C1081.99 159.75 1071.32 169.75 1057.32 176.75C1043.49 183.583 1027.07 187 1008.07 187H953.82V12.75H1008.07ZM1008.07 168.25C1030.57 168.25 1047.74 162.333 1059.57 150.5C1071.4 138.5 1077.32 121.75 1077.32 100.25C1077.32 78.5833 1071.32 61.6667 1059.32 49.5C1047.49 37.3333 1030.4 31.25 1008.07 31.25H976.57V168.25H1008.07Z" />
        </mask>
        <path
          className="path"
          d="M107 12.75V141.5C107 155.833 102.583 167.333 93.75 176C84.9167 184.5 73.25 188.75 58.75 188.75C44.0833 188.75 32.3333 184.417 23.5 175.75C14.6667 166.917 10.25 154.917 10.25 139.75H33C33.1667 148.25 35.3333 155.167 39.5 160.5C43.8333 165.833 50.25 168.5 58.75 168.5C67.25 168.5 73.5833 166 77.75 161C81.9167 155.833 84 149.333 84 141.5V12.75H107Z"
          stroke="white"
          stroke-width="20"
          mask="url(#path-1-outside-1_1_4)"
        />
        <path
          d="M230.818 188.75C214.652 188.75 199.902 185 186.568 177.5C173.235 169.833 162.652 159.25 154.818 145.75C147.152 132.083 143.318 116.75 143.318 99.75C143.318 82.75 147.152 67.5 154.818 54C162.652 40.3333 173.235 29.75 186.568 22.25C199.902 14.5833 214.652 10.75 230.818 10.75C247.152 10.75 261.985 14.5833 275.318 22.25C288.652 29.75 299.152 40.25 306.818 53.75C314.485 67.25 318.318 82.5833 318.318 99.75C318.318 116.917 314.485 132.25 306.818 145.75C299.152 159.25 288.652 169.833 275.318 177.5C261.985 185 247.152 188.75 230.818 188.75ZM230.818 169C242.985 169 253.902 166.167 263.568 160.5C273.402 154.833 281.068 146.75 286.568 136.25C292.235 125.75 295.068 113.583 295.068 99.75C295.068 85.75 292.235 73.5833 286.568 63.25C281.068 52.75 273.485 44.6667 263.818 39C254.152 33.3333 243.152 30.5 230.818 30.5C218.485 30.5 207.485 33.3333 197.818 39C188.152 44.6667 180.485 52.75 174.818 63.25C169.318 73.5833 166.568 85.75 166.568 99.75C166.568 113.583 169.318 125.75 174.818 136.25C180.485 146.75 188.152 154.833 197.818 160.5C207.652 166.167 218.652 169 230.818 169Z"
          stroke="white"
          stroke-width="20"
          mask="url(#path-1-outside-1_1_4)"
        />
        <path
          d="M435.602 97.25C441.935 98.25 447.685 100.833 452.852 105C458.185 109.167 462.352 114.333 465.352 120.5C468.518 126.667 470.102 133.25 470.102 140.25C470.102 149.083 467.852 157.083 463.352 164.25C458.852 171.25 452.268 176.833 443.602 181C435.102 185 425.018 187 413.352 187H348.352V12.75H410.852C422.685 12.75 432.768 14.75 441.102 18.75C449.435 22.5833 455.685 27.8333 459.852 34.5C464.018 41.1667 466.102 48.6667 466.102 57C466.102 67.3333 463.268 75.9167 457.602 82.75C452.102 89.4167 444.768 94.25 435.602 97.25ZM371.102 88H409.352C420.018 88 428.268 85.5 434.102 80.5C439.935 75.5 442.852 68.5833 442.852 59.75C442.852 50.9167 439.935 44 434.102 39C428.268 34 419.852 31.5 408.852 31.5H371.102V88ZM411.352 168.25C422.685 168.25 431.518 165.583 437.852 160.25C444.185 154.917 447.352 147.5 447.352 138C447.352 128.333 444.018 120.75 437.352 115.25C430.685 109.583 421.768 106.75 410.602 106.75H371.102V168.25H411.352Z"
          stroke="white"
          stroke-width="20"
          mask="url(#path-1-outside-1_1_4)"
        />
        <path
          d="M524.422 168.5H585.422V187H501.672V12.75H524.422V168.5Z"
          stroke="white"
          stroke-width="20"
          mask="url(#path-1-outside-1_1_4)"
        />
        <path
          d="M712.582 148.25H636.582L622.582 187H598.582L661.582 13.75H687.832L750.582 187H726.582L712.582 148.25ZM706.082 129.75L674.582 41.75L643.082 129.75H706.082Z"
          stroke="white"
          stroke-width="20"
          mask="url(#path-1-outside-1_1_4)"
        />
        <path
          d="M915.039 187H892.289L800.789 48.25V187H778.039V12.5H800.789L892.289 151V12.5H915.039V187Z"
          stroke="white"
          stroke-width="20"
          mask="url(#path-1-outside-1_1_4)"
        />
        <path
          d="M1008.07 12.75C1027.07 12.75 1043.49 16.3333 1057.32 23.5C1071.32 30.5 1081.99 40.5833 1089.32 53.75C1096.82 66.9167 1100.57 82.4167 1100.57 100.25C1100.57 118.083 1096.82 133.583 1089.32 146.75C1081.99 159.75 1071.32 169.75 1057.32 176.75C1043.49 183.583 1027.07 187 1008.07 187H953.82V12.75H1008.07ZM1008.07 168.25C1030.57 168.25 1047.74 162.333 1059.57 150.5C1071.4 138.5 1077.32 121.75 1077.32 100.25C1077.32 78.5833 1071.32 61.6667 1059.32 49.5C1047.49 37.3333 1030.4 31.25 1008.07 31.25H976.57V168.25H1008.07Z"
          stroke="white"
          stroke-width="20"
          mask="url(#path-1-outside-1_1_4)"
        />
      </svg>
    </div>
  );
}

export default MyHome;
